<div class="flex-container">
  <div class="container card-container">
  <div class="header-and-search">
    <h2>Party Venues Near you</h2>
    <%= form_tag venues_path, method: :get do %>
      <div class="search-form-control form-group", id="main-searchbar">
        <%= text_field_tag :location, params[:location], placeholder: "Search by location" %>
        <%= button_tag(type: "submit", class: "btn btn-flat") do %>
          <i class="fas fa-search"></i> Search
        <% end %>
      </div>
    <% end %>
   </div>
    <div class="row">
      <% @venues.each do |venue| %>
        <div class="col-12 col-lg-6">

          <%= link_to venue_path(venue), class: "card-element m-0 p-0  my-3 d-flex justify-content-between position-relative" do %>
            <div class="text-box p-3 d-flex flex-column justify-content-end ">
              <h3><%= venue.title %></h3>
              <p> <i class="fas fa-map-marker-alt"></i> <%= venue.location %> </p>
              <p> <i class="fas fa-users"></i> <%= venue.capacity %> </p>
              <p class="price-tag"> <i class="fas fa-dollar-sign"></i> <%= venue.price %> / day</p>
            </div>
            <%= cl_image_tag venue.photos.first.key, height: 300, width: 400, crop: :fill, class:"card-img" %>
            <%# <img class="card-img"src="https://raw.githubusercontent.com/lewagon/fullstack-images/master/uikit/greece.jpg" /> %>
          <% end %>
        </div>
      <% end %>
    </div>
    <%# end of card-container %>
  </div>
  <div class="map-container">
    <div id="map"
      style="position: sticky; top: 0; width: 100%; height: 100vh;"
      data-markers="<%= @markers.to_json %>"
      data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>">
    </div>
    <%# <img src="https://picsum.photos/600/930" alt=""> %>
     <%# end map container %>
     <%# end of flex container %>
  </div>
</div>
